---
/**
 * Header Component
 *
 * A modern, accessible header component that provides site-wide navigation and user
 * interaction features. Built with performance and user experience in mind.
 *
 * Features:
 * - Responsive design with mobile-first approach
 * - Enhanced accessibility with ARIA attributes and keyboard navigation
 * - Smooth animations with reduced motion support
 * - Internationalization support
 * - Print and high contrast mode optimizations
 * - Skip-to-content link for screen readers
 * - Astro page transition support
 *
 * @component
 * @since 1.0.0
 * @author Healthy Life Team
 *
 * @example Basic usage
 * ```astro
 * ---
 * import Header from '@/components/sections/Header.astro';
 * ---
 * <Header />
 * ```
 *
 * @example With active navigation
 * ```astro
 * ---
 * import Header from '@/components/sections/Header.astro';
 * ---
 * <Header activeNav="posts" />
 * ```
 *
 * @example In a layout
 * ```astro
 * ---
 * import Header from '@/components/sections/Header.astro';
 * import type { NavigationLink } from '@/types';
 *
 * interface Props {
 *   activeNav?: NavigationLink;
 * }
 *
 * const { activeNav } = Astro.props;
 * ---
 * <!DOCTYPE html>
 * <html>
 *   <body>
 *     <Header activeNav={activeNav} />
 *     <main id="main-content">
 *       <slot />
 *     </main>
 *   </body>
 * </html>
 * ```
 */

import Navigation from "@/components/sections/Navigation.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

import type { NavigationLink } from "../types";

// Type-safe component props
interface Props {
  /** Currently active navigation item for highlighting */
  activeNav?: NavigationLink;
}

const { activeNav }: Props = Astro.props;

// Internationalization setup
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Pre-compute translated strings for performance
const i18nStrings = {
  mainHeader: t("nav.mainNavigation"),
} as const;
---

<header class="w-full" role="banner" aria-label={i18nStrings.mainHeader}>
  {/* Main navigation component */}
  <Navigation activeNav={activeNav} />
</header>

<style>
  @reference "@/styles/global.css";

  /* Print optimization - Hide header when printing */
  @media print {
    header {
      @apply hidden;
    }
  }
</style>
