---
import type { CollectionEntry } from "astro:content";
import type { BookData } from "@/types/books";
import BookTipp from "./BookTipp.astro";

interface Props {
  books: (CollectionEntry<"books"> & { data: BookData })[];
  title?: string;
  description?: string;
}

const {
  books = [],
  title = "Buchtipps",
  description = "Sorgfältig ausgewählte Bücher, die dich auf deinem Weg zu persönlichem Wachstum und Entwicklung unterstützen. Jedes Buch wurde von uns gelesen und für wertvoll befunden.",
}: Props = Astro.props;
---

<section class="mx-auto max-w-content px-4 py-12">
  <header class="animate-fade-in mb-16 text-center">
    <h1 class="mb-4 text-4xl font-bold text-skin-base">{title}</h1>
    <p class="mx-auto max-w-2xl text-lg text-skin-base/80">
      {description}
    </p>
  </header>

  <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
    {
      books.map(({ data }) => (
        <div data-aos="fade-up" class="book-card">
          <BookTipp {...data} />
        </div>
      ))
    }

    {
      !books.length && (
        <p class="col-span-full text-center text-lg text-skin-base/80">
          Aktuell sind keine Buchtipps verfügbar. Schau bald wieder vorbei!
        </p>
      )
    }
  </div>
</section>

<style>
  .animate-fade-in {
    animation: fadeIn 0.8s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
