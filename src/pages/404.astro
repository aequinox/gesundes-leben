---
import Button from "@/components/elements/Button.astro";
import Footer from "@/components/sections/Footer.astro";
import Header from "@/components/sections/Header.astro";
import { SITE } from "@/config";
import type { TranslationKey } from "@/i18n/ui";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import Layout from "@/layouts/Layout.astro";
import { Icon } from "astro-icon/components";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout
  title={`404 - ${t("errors.404.title" as TranslationKey)} | ${SITE.title}`}
>
  <Header />

  <main
    id="main-content"
    class="mx-auto flex flex-1 items-center justify-center p-4"
  >
    <div
      class="error-container group relative w-full max-w-2xl overflow-hidden"
    >
      <div
        class="error-backdrop absolute inset-0 -z-10 rounded-2xl border border-accent/10 backdrop-blur-lg group-hover:border-accent/20"
      >
      </div>

      <div
        class="error-content flex flex-col items-center justify-center gap-6 p-8 text-center sm:p-10"
      >
        <div class="error-code flex items-center justify-center">
          <span
            class="error-digit text-8xl font-black text-accent sm:text-9xl"
            style="text-shadow: 0 10px 20px rgba(var(--shadow-color), calc(var(--shadow-strength) + 10%))"
            >4</span
          >
          <div
            class="error-icon mx-2 flex animate-pulse items-center justify-center rounded-full bg-accent/10 p-4 group-hover:scale-105 group-hover:bg-accent/20 sm:mx-4 sm:p-6"
          >
            <Icon
              name="tabler:face-id-error"
              class="error-face h-12 w-12 text-accent sm:h-16 sm:w-16"
            />
          </div>
          <span
            class="error-digit text-8xl font-black text-accent sm:text-9xl"
            style="text-shadow: 0 10px 20px rgba(var(--shadow-color), calc(var(--shadow-strength) + 10%))"
            >4</span
          >
        </div>

        <h1 class="error-title text-2xl font-bold sm:text-3xl">
          {t("errors.404.title" as TranslationKey)}
        </h1>

        <p class="error-message text-base sm:text-lg">
          {t("errors.404.description" as TranslationKey)}
        </p>

        <div
          class="error-actions mt-4 flex flex-wrap items-center justify-center gap-4"
        >
          <Button
            href="/"
            variant="accent"
            shape="pill"
            size="lg"
            icon="tabler:home"
            iconPosition="start"
          >
            {t("nav.backHome")}
          </Button>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
