{{/*
  Custom List Shortcode

  Creates styled lists with custom markers

  Usage:
  {{< list type="ordered" style="default" >}}
  - Item 1
  - Item 2
  - Item 3
  {{< /list >}}

  Parameters:
  - type: ordered, unordered (default: unordered)
  - style: default, check, number, bullet, none (default: default)
*/}}

{{- $type := .Get "type" | default "unordered" -}}
{{- $style := .Get "style" | default "default" -}}

<div class="custom-list custom-list-{{ $type }} list-style-{{ $style }}">
  {{ .Inner | markdownify }}
</div>

<style>
  .custom-list {
    margin: 1.5rem 0;
  }

  .custom-list ul,
  .custom-list ol {
    padding-left: 1.5rem;
    margin: 0;
  }

  .custom-list li {
    margin-bottom: 0.5rem;
    line-height: 1.7;
  }

  .custom-list li:last-child {
    margin-bottom: 0;
  }

  /* Check style */
  .list-style-check ul {
    list-style: none;
    padding-left: 0;
  }

  .list-style-check li {
    position: relative;
    padding-left: 1.75rem;
  }

  .list-style-check li::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #22c55e;
    font-weight: bold;
  }

  @media (prefers-color-scheme: dark) {
    .list-style-check li::before {
      color: #34d399;
    }
  }

  /* Number style with custom formatting */
  .list-style-number ol {
    counter-reset: custom-counter;
    list-style: none;
    padding-left: 0;
  }

  .list-style-number li {
    position: relative;
    padding-left: 2.5rem;
    counter-increment: custom-counter;
  }

  .list-style-number li::before {
    content: counter(custom-counter);
    position: absolute;
    left: 0;
    top: 0;
    width: 1.75rem;
    height: 1.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #3b82f6;
    color: white;
    border-radius: 50%;
    font-weight: bold;
    font-size: 0.875rem;
  }

  @media (prefers-color-scheme: dark) {
    .list-style-number li::before {
      background: #60a5fa;
    }
  }

  /* Bullet style with custom bullets */
  .list-style-bullet ul {
    list-style: none;
    padding-left: 0;
  }

  .list-style-bullet li {
    position: relative;
    padding-left: 1.5rem;
  }

  .list-style-bullet li::before {
    content: "●";
    position: absolute;
    left: 0;
    color: #3b82f6;
  }

  @media (prefers-color-scheme: dark) {
    .list-style-bullet li::before {
      color: #60a5fa;
    }
  }

  /* None style */
  .list-style-none ul,
  .list-style-none ol {
    list-style: none;
    padding-left: 0;
  }

  /* Nested lists */
  .custom-list li ul,
  .custom-list li ol {
    margin-top: 0.5rem;
    margin-bottom: 0;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .custom-list ul,
    .custom-list ol {
      padding-left: 1rem;
    }
  }
</style>
