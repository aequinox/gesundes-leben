<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" dir="{{ .Language.LanguageDirection | default "ltr" }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {{/* SEO and Meta Tags */}}
    {{ partial "head.html" . }}

    {{/* Structured Data */}}
    {{ partial "structured-data.html" . }}

    {{/* Custom head blocks from individual pages */}}
    {{ block "head" . }}{{ end }}
  </head>

  <body class="{{with .Type}}page-{{ . }}{{end}}{{if .IsHome}} home{{end}}">
    {{/* Skip to main content link for accessibility */}}
    <a href="#main-content" class="skip-link">
      {{ i18n "skip_to_content" | default "Zum Inhalt springen" }}
    </a>

    {{/* Header/Navigation */}}
    {{ block "header" . }}
      {{ partial "header.html" . }}
    {{ end }}

    {{/* Breadcrumbs */}}
    {{ if not .IsHome }}
      {{ partial "breadcrumbs.html" . }}
    {{ end }}

    {{/* Main Content */}}
    <main id="main-content" class="main-content">
      {{ block "main" . }}{{ end }}
    </main>

    {{/* Footer */}}
    {{ block "footer" . }}
      {{ partial "footer.html" . }}
    {{ end }}

    {{/* Scripts */}}
    {{ block "scripts" . }}{{ end }}

    {{/* Analytics (production only) */}}
    {{ if hugo.IsProduction }}
      {{ partial "analytics.html" . }}
    {{ end }}

    <style>
      /* Skip link for accessibility */
      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        background: #000;
        color: #fff;
        padding: 8px;
        text-decoration: none;
        z-index: 100;
      }

      .skip-link:focus {
        top: 0;
      }

      /* Base layout styles */
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        line-height: 1.6;
        color: #333;
      }

      .main-content {
        min-height: 60vh;
      }

      @media (prefers-color-scheme: dark) {
        body {
          background-color: #1a1a1a;
          color: #f5f5f5;
        }
      }
    </style>
  </body>
</html>
