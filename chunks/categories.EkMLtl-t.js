import{S as SITE}from"./_astro_content.C3X8YU77.js";import{s as slugify}from"./slugs.CO34ldaf.js";function filterPosts(t){const e=SITE.scheduledPostMargin;return t.filter((({data:t})=>{const{draft:a,pubDatetime:r}=t;if(!r)return!1;const o=new Date(r);return!isNaN(o.getTime())&&(!a&&o.getTime()<=Date.now()+e)}))}function extractUniqueCategories(t){const e=t.filter((t=>!t.data.draft)),a=new Map;return e.flatMap((t=>t.data.categories??[])).forEach((t=>{const e=slugify(t);a.has(e)||a.set(e,t)})),Array.from(a.entries()).map((([t,e])=>({category:t,categoryName:e}))).sort(((t,e)=>t.category.localeCompare(e.category)))}function getCategoryCounts(t){const e=new Map;return filterPosts(t).forEach((t=>{t.data.categories?.forEach((t=>{const a=slugify(t),r=e.get(a)??0;e.set(a,r+1)}))})),e}export{extractUniqueCategories as e,getCategoryCounts as g};