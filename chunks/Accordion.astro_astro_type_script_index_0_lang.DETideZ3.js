import{logger as g}from"./logger.B6gmc7Y6.js";import"./vendor-other.DbSZRnBI.js";const A={accordionSelector:".accordion",itemSelector:".accordion-item",triggerSelector:".accordion-trigger",panelSelector:".accordion-panel",chevronSelector:".accordion-chevron svg",iconSelector:".accordion-item-icon",animationDuration:300,maxHeight:"9999px"},r={OPEN:"is-open",FONT_SEMIBOLD:"font-semibold",TEXT_ACCENT:"text-accent",ROTATE_180:"rotate-180",SCALE_110:"scale-110"},l={EXPANDED:"aria-expanded",HIDDEN:"aria-hidden"},d=new Map;let a;function T(e,n){const t=e.querySelector(a.triggerSelector),i=e.querySelector(a.panelSelector),o=e.querySelector(a.chevronSelector),c=e.querySelector(a.iconSelector);return{isOpen:e.classList.contains(r.OPEN),element:e,trigger:t,panel:i,chevron:o,icon:c}}function O(e){const{element:n,trigger:t,panel:i,chevron:o,icon:c}=e;n.classList.add(r.OPEN),e.isOpen=!0,t&&(t.setAttribute(l.EXPANDED,"true"),t.classList.add(r.FONT_SEMIBOLD,r.TEXT_ACCENT)),i&&(i.setAttribute(l.HIDDEN,"false"),i.style.maxHeight=a.maxHeight,i.style.opacity="1"),o&&o.classList.add(r.ROTATE_180),c&&c.classList.add(r.SCALE_110,r.TEXT_ACCENT)}function u(e){const{element:n,trigger:t,panel:i,chevron:o,icon:c}=e;n.classList.remove(r.OPEN),e.isOpen=!1,t&&(t.setAttribute(l.EXPANDED,"false"),t.classList.remove(r.FONT_SEMIBOLD,r.TEXT_ACCENT)),i&&(i.setAttribute(l.HIDDEN,"true"),i.style.maxHeight="0",i.style.opacity="0"),o&&o.classList.remove(r.ROTATE_180),c&&c.classList.remove(r.SCALE_110,r.TEXT_ACCENT)}function D(e,n){const t=e.items.get(n);if(!t){g.warn("Item with index",n,"not found");return}const i=t.isOpen;!e.allowMultiple&&!i&&e.items.forEach((o,c)=>{c!==n&&o.isOpen&&u(o)}),i?u(t):O(t)}function f(e){if(!e.target)return;const n=e.target.closest(a.triggerSelector);if(!n)return;e.preventDefault();const t=n.closest(a.itemSelector);if(!t)return;const i=t.closest(a.accordionSelector);if(!i)return;const o=d.get(i);if(!o)return;const c=parseInt(t.dataset.index||"0",10);D(o,c)}function L(e){const n=e.getAttribute("data-allow-multiple")==="true",t=e.querySelectorAll(a.itemSelector),i={element:e,allowMultiple:n,items:new Map};t.forEach((o,c)=>{const E=o;E.dataset.index=c.toString();const s=T(E);i.items.set(c,s),s.trigger&&s.panel&&(s.trigger.setAttribute(l.EXPANDED,s.isOpen.toString()),s.panel.setAttribute(l.HIDDEN,(!s.isOpen).toString()),s.isOpen?(s.panel.style.maxHeight=a.maxHeight,s.panel.style.opacity="1"):(s.panel.style.maxHeight="0",s.panel.style.opacity="0"))}),d.set(e,i),e.addEventListener("click",f)}function p(){document.querySelectorAll(a.accordionSelector).forEach(n=>{L(n)})}function S(){d.forEach(e=>{e.element.removeEventListener("click",f)}),d.clear()}function y(e={}){a={...A,...e};const n=()=>{try{S(),p()}catch(t){g.error("Error initializing AccordionEngine:",t)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n()}function N(){S(),p()}function m(){y(),document.addEventListener("astro:page-load",()=>{N()})}typeof window<"u"&&m();m();
