import{_ as u}from"./vendor-other.DbSZRnBI.js";const v=n=>n.split("/").pop()||"unknown";document.addEventListener("click",async n=>{const o=n.target,t=o.closest(".internal-link"),e=o.closest("[data-contextual-links]");if(t&&e){const s=t.textContent?.trim()||"",a=e.dataset.currentPost||"unknown",r=e.dataset.sessionId,i=t.getAttribute("href")||"",c=v(i),l={linkType:"contextual",sourcePost:a,targetPost:c,linkText:s,variant:t.dataset.variant||"inline",context:t.dataset.context||"moderate",timestamp:Date.now(),sessionId:r};try{const{trackLinkClick:d}=await u(async()=>{const{trackLinkClick:k}=await import("./internal-linking-analytics.BRzrtR0x.js");return{trackLinkClick:k}},[]);d(l)}catch{}}});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll("[data-contextual-links]");if("IntersectionObserver"in window){const o=new IntersectionObserver(t=>{t.forEach(async e=>{if(e.isIntersecting){const s=e.target,a=s.dataset.currentPost||"unknown",r=s.dataset.sessionId,i={linkType:"contextual",sourcePost:a,targetPost:"section-view",linkText:"contextual_section_viewed",variant:"view",context:"engagement",timestamp:Date.now(),sessionId:r};try{const{trackLinkClick:c}=await u(async()=>{const{trackLinkClick:l}=await import("./internal-linking-analytics.BRzrtR0x.js");return{trackLinkClick:l}},[]);c(i)}catch{}o.unobserve(s)}})},{threshold:.5});n.forEach(t=>o.observe(t))}});
