import{logger as l}from"./logger.B6gmc7Y6.js";import"./vendor-other.DbSZRnBI.js";class s{nav=null;mobileToggle=null;mobileMenu=null;menuIcon=null;xIcon=null;categoriesToggle=null;megaMenu=null;lastScrollY=0;scrollDirection="up";hideThreshold;scrollTolerance=10;isScrolling=!1;scrollTimer=null;constructor(){this.hideThreshold=.5*window.innerHeight,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.init())):this.init()}init(){this.nav=document.querySelector(".nav"),this.mobileToggle=document.getElementById("mobile-toggle"),this.mobileMenu=document.getElementById("mobile-menu"),this.menuIcon=document.querySelector(".menu-icon"),this.xIcon=document.querySelector(".x-icon"),this.categoriesToggle=document.getElementById("categories-toggle"),this.megaMenu=document.getElementById("mega-menu"),this.nav&&this.mobileToggle&&this.mobileMenu?(this.setupEventListeners(),this.handleScroll()):l.warn("Navigation elements not found")}setupEventListeners(){this.mobileToggle?.addEventListener("click",this.toggleMobileMenu),this.categoriesToggle?.addEventListener("click",this.toggleMegaMenu),window.addEventListener("scroll",this.handleScrollEvent,{passive:!0}),document.addEventListener("click",this.handleOutsideClick),document.addEventListener("keydown",this.handleKeyDown),this.mobileMenu?.querySelectorAll("a")?.forEach((e=>{e.addEventListener("click",this.closeMobileMenu)})),this.megaMenu?.querySelectorAll("a")?.forEach((e=>{e.addEventListener("click",this.closeMegaMenu)})),window.addEventListener("resize",this.handleResize)}toggleMobileMenu=()=>{if(!(this.mobileToggle&&this.mobileMenu&&this.menuIcon&&this.xIcon))return;const e=!("true"===this.mobileToggle.getAttribute("aria-expanded"));this.mobileToggle.setAttribute("aria-expanded",e.toString()),this.mobileMenu.setAttribute("aria-hidden",(!e).toString()),this.mobileMenu.classList.toggle("hidden",!e),this.menuIcon.classList.toggle("hidden",e),this.xIcon.classList.toggle("hidden",!e),document.body.style.overflow=e?"hidden":""};closeMobileMenu=()=>{!this.mobileToggle||!this.mobileMenu||!this.menuIcon||!this.xIcon||(this.mobileToggle.setAttribute("aria-expanded","false"),this.mobileMenu.setAttribute("aria-hidden","true"),this.mobileMenu.classList.add("hidden"),this.menuIcon.classList.remove("hidden"),this.xIcon.classList.add("hidden"),document.body.style.overflow="")};toggleMegaMenu=()=>{if(!this.categoriesToggle||!this.megaMenu)return;const e=!("true"===this.categoriesToggle.getAttribute("aria-expanded"));if(this.categoriesToggle.setAttribute("aria-expanded",e.toString()),e){this.megaMenu.classList.remove("invisible","opacity-0"),this.megaMenu.classList.add("visible","opacity-100");const e=this.categoriesToggle.querySelector("svg");e&&(e.style.transform="rotate(180deg)")}else{this.megaMenu.classList.add("invisible","opacity-0"),this.megaMenu.classList.remove("visible","opacity-100");const e=this.categoriesToggle.querySelector("svg");e&&(e.style.transform="rotate(0deg)")}};closeMegaMenu=()=>{if(!this.categoriesToggle||!this.megaMenu)return;this.categoriesToggle.setAttribute("aria-expanded","false"),this.megaMenu.classList.add("invisible","opacity-0"),this.megaMenu.classList.remove("visible","opacity-100");const e=this.categoriesToggle.querySelector("svg");e&&(e.style.transform="rotate(0deg)")};handleScrollEvent=()=>{this.isScrolling||(this.isScrolling=!0,requestAnimationFrame((()=>{this.handleScroll(),this.isScrolling=!1})))};handleScroll=()=>{if(!this.nav||"true"===this.mobileToggle?.getAttribute("aria-expanded"))return;const e=window.scrollY,t=e-this.lastScrollY;Math.abs(t)<=this.scrollTolerance||(this.scrollDirection=t>0?"down":"up",e<=0?this.nav.style.transform="translateY(0)":"down"===this.scrollDirection&&e>this.hideThreshold?this.nav.style.transform="translateY(-100%)":"up"===this.scrollDirection&&(this.nav.style.transform="translateY(0)"),this.lastScrollY=e)};handleResize=()=>{this.hideThreshold=.5*window.innerHeight,window.innerWidth>=768&&"true"===this.mobileToggle?.getAttribute("aria-expanded")&&this.closeMobileMenu()};handleOutsideClick=e=>{"true"===this.mobileToggle?.getAttribute("aria-expanded")&&!this.mobileMenu?.contains(e.target)&&!this.mobileToggle.contains(e.target)&&this.closeMobileMenu(),"true"===this.categoriesToggle?.getAttribute("aria-expanded")&&!this.megaMenu?.contains(e.target)&&!this.categoriesToggle.contains(e.target)&&this.closeMegaMenu()};handleKeyDown=e=>{"Escape"===e.key&&"true"===this.mobileToggle?.getAttribute("aria-expanded")&&this.closeMobileMenu(),"Escape"===e.key&&"true"===this.categoriesToggle?.getAttribute("aria-expanded")&&this.closeMegaMenu()};cleanup(){this.mobileToggle?.removeEventListener("click",this.toggleMobileMenu),this.categoriesToggle?.removeEventListener("click",this.toggleMegaMenu),window.removeEventListener("scroll",this.handleScrollEvent),window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleKeyDown),this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),document.body.style.overflow=""}}class o extends HTMLElement{static icons={search:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg>',moon:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" /></svg>',sun:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" /></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6l16 0" /><path d="M4 12l16 0" /><path d="M4 18l16 0" /></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>'};connectedCallback(){const e=this.getAttribute("name")||"",t=o.icons[e]||"";this.innerHTML=t}}customElements.get("svg-icon")||customElements.define("svg-icon",o);let n=new s;document.addEventListener("astro:page-load",(()=>{n&&n.cleanup(),n=new s})),document.addEventListener("astro:before-swap",(()=>{n&&(n.cleanup(),n=null)}));