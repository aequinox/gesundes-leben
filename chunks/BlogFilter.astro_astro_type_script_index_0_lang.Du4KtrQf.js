import{logger as f}from"./logger.B6gmc7Y6.js";import"./vendor-other.DbSZRnBI.js";const B={defaultCategory:"Alle",animationDuration:300,articleGridSelector:"#article-grid",groupSelectorSelector:".group-selector",categoryButtonSelector:".category-button",noResultsSelector:"#no-results",resetFiltersSelector:"#reset-filters",clearFiltersSelector:"#clear-filters",filterCountSelector:"#filter-count"};let a={selectedGroup:null,selectedCategory:null,visiblePostsCount:0,isFiltering:!1},p=B;function I(t={}){p={...B,...t}}function y(){return p}function C(){return{...a}}function g(t){a={...a,...t}}function G(t){return t.includes("|")?t.split("|").map(e=>e.trim()):t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function T(t){if(!a.selectedGroup&&!a.selectedCategory)return!0;const e=t.dataset.group,o=t.dataset.categories?G(t.dataset.categories):[];if(a.selectedGroup&&!a.selectedCategory)return e===a.selectedGroup;if(!a.selectedGroup&&a.selectedCategory)return a.selectedCategory===p.defaultCategory?!0:o.some(r=>r.toLowerCase()===a.selectedCategory?.toLowerCase());if(a.selectedGroup&&a.selectedCategory){if(a.selectedCategory===p.defaultCategory)return e===a.selectedGroup;const r=o.some(s=>s.toLowerCase()===a.selectedCategory?.toLowerCase());return e===a.selectedGroup&&r}return!1}function q(t){const e=new Set;return t.articles&&t.articles.forEach(o=>{const r=o.dataset.group;(!a.selectedGroup||r===a.selectedGroup)&&o.dataset.categories&&G(o.dataset.categories).forEach(c=>{c&&e.add(c)})}),e}function R(t){const e=new Map;if(!t.articles)return e;let o=0;return t.articles.forEach(r=>{const s=r.dataset.group;(!a.selectedGroup||s===a.selectedGroup)&&(o++,r.dataset.categories&&G(r.dataset.categories).forEach(l=>{l&&e.set(l,(e.get(l)||0)+1)}))}),e.set(p.defaultCategory,o),e}function v(t){if(!t.groupSelectors)return;const e=C();t.groupSelectors.forEach(o=>{const r=o.dataset.group,s=o.querySelector(`.icon-wrapper-${r}`);r===e.selectedGroup?(o.setAttribute("aria-pressed","true"),o.classList.add("active-group"),s&&s.classList.add(`selected-${r}`)):(o.setAttribute("aria-pressed","false"),o.classList.remove("active-group"),s&&s.classList.remove(`selected-${r}`))})}function L(t){if(!t.categoryButtons)return;const e=y(),o=q(t);t.categoryButtons.forEach(r=>{const s=r.dataset.category;if(s){if(s===e.defaultCategory){r.style.display="";return}o.has(s)?r.style.display="":r.style.display="none"}})}function b(t){if(!t.categoryButtons)return;const e=R(t);t.categoryButtons.forEach(o=>{const r=o.dataset.category;if(!r)return;const s=e.get(r)||0;o.querySelectorAll(".category-count").forEach(u=>u.remove());const c=o.querySelector("span"),l=c?.querySelector(".count-badge");if(s>0)if(l)l.textContent=s.toString(),l.style.display="";else{const u=document.createElement("span");u.className="count-badge ease-cubic-bezier-[0.22,1,0.36,1] ml-1 inline-flex h-5 min-w-5 items-center justify-center rounded-full bg-accent/20 px-1.5 text-xs font-medium transition-all duration-300 group-hover:bg-accent/30 group-data-[active=true]:bg-accent/40",u.textContent=s.toString(),c&&c.appendChild(u)}else l&&(l.style.display="none")})}function m(t){if(!t.categoryButtons)return;const e=C();t.categoryButtons.forEach(o=>{o.dataset.category===e.selectedCategory?(o.setAttribute("data-active","true"),o.setAttribute("aria-pressed","true")):(o.setAttribute("data-active","false"),o.setAttribute("aria-pressed","false"))})}function w(t){t.dataset.hideTimeoutId&&(clearTimeout(parseInt(t.dataset.hideTimeoutId)),delete t.dataset.hideTimeoutId),t.style.display="",t.classList.remove("hide"),t.classList.add("show")}function _(t){t.dataset.hideTimeoutId&&(clearTimeout(parseInt(t.dataset.hideTimeoutId)),delete t.dataset.hideTimeoutId),t.style.display="none",t.classList.remove("show"),t.classList.add("hide")}function x(t,e){t.filterCount&&(t.filterCount.textContent=e.toString())}function O(t,e){!t.noResults||!t.articleGrid||(e?(t.noResults.style.display="flex",t.articleGrid.classList.add("hidden")):(t.noResults.style.display="none",t.articleGrid.classList.remove("hidden")))}function h(t){if(!t.articles)return;const e=C();let o=0;const r=[];t.articles.forEach(i=>{T(i)&&(r.push(i),o++)}),t.articles.forEach(i=>{r.includes(i)?w(i):_(i)});const s=!!(e.selectedGroup||e.selectedCategory&&e.selectedCategory!=="Alle");g({visiblePostsCount:o,isFiltering:s}),x(t,o),O(t,o===0)}function z(t){t.articles&&t.articles.forEach(e=>{if(!e.dataset.group||!e.dataset.categories){const o=e.querySelector("article");o&&(o.dataset.group&&(e.dataset.group=o.dataset.group),o.dataset.categories&&(e.dataset.categories=o.dataset.categories))}if(!e.dataset.categories){const o=e.querySelectorAll("[data-category]");if(o.length>0){const r=[];o.forEach(s=>{const i=s.dataset.category;i&&r.push(i)}),r.length>0&&(e.dataset.categories=r.join("|"))}}if(!e.dataset.group){const o=e.querySelectorAll("[data-group]");if(o.length>0){const r=o[0];r.dataset.group&&(e.dataset.group=r.dataset.group)}}})}function k(t,e){const r=t.currentTarget.dataset.group,s=C();g({selectedGroup:s.selectedGroup===r?null:r}),v(e),L(e),b(e),h(e)}function M(t,e){const r=t.currentTarget.dataset.category;if(!r)return;const s=C(),i=y();s.selectedCategory===r?r!==i.defaultCategory&&g({selectedCategory:i.defaultCategory}):g({selectedCategory:r}),m(e),h(e)}function A(t){const e=y();g({selectedGroup:null,selectedCategory:e.defaultCategory}),v(t),L(t),b(t),m(t),h(t)}function D(t){t.groupSelectors&&t.groupSelectors.forEach(e=>{e.addEventListener("click",o=>k(o,t))}),t.categoryButtons&&t.categoryButtons.forEach(e=>{e.addEventListener("click",o=>M(o,t))}),t.resetFilters&&t.resetFilters.addEventListener("click",()=>A(t)),t.clearFilters&&t.clearFilters.addEventListener("click",()=>A(t))}const n={articleGrid:null,groupSelectors:null,categoryButtons:null,noResults:null,resetFilters:null,clearFilters:null,filterCount:null,articles:null};function N(){const t=y();n.articleGrid=document.querySelector(t.articleGridSelector),n.groupSelectors=document.querySelectorAll(t.groupSelectorSelector),n.categoryButtons=document.querySelectorAll(t.categoryButtonSelector),n.noResults=document.querySelector(t.noResultsSelector),n.resetFilters=document.querySelector(t.resetFiltersSelector),n.clearFilters=document.querySelector(t.clearFiltersSelector),n.filterCount=document.querySelector(t.filterCountSelector),n.articleGrid&&(n.articles=n.articleGrid.querySelectorAll(".grid-layout > *"))}function V(t={}){I(t);const e=y();f.log("Initializing blog filter.");const o=async()=>{N(),z(n),D(n),g({selectedCategory:e.defaultCategory}),v(n),L(n),b(n),m(n),h(n)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{o().then(()=>{f.log("Blog filter initialized successfully.")}).catch(r=>{f.error("Blog filter initialization failed:",r.message)})}):o().then(()=>{f.log("Blog filter initialized successfully.")}).catch(r=>{f.error("Blog filter initialization failed:",r.message)})}const U=()=>{let e=12;const o=document.querySelector(".card-list"),r=document.getElementById("load-more-btn"),s=document.getElementById("load-more-container"),i=document.getElementById("remaining-count");if(!o||!r)return;const c=Array.from(o.querySelectorAll(".article-card")),l=c.length,u=()=>{c.forEach((S,E)=>{E<e?S.classList.remove("hidden"):S.classList.add("hidden")});const d=l-e;i&&(i.textContent=d.toString()),d<=0&&s&&s.classList.add("hidden")};u(),r.addEventListener("click",()=>{e+=12,u();const d=c[e-12];d&&d.scrollIntoView({behavior:"smooth",block:"nearest"})});const P=new MutationObserver(()=>{c.filter(E=>!E.classList.contains("hidden")).length>12&&s?(s.classList.remove("hidden"),e=12,u()):s&&s.classList.add("hidden")});o&&P.observe(o,{attributes:!0,subtree:!0,attributeFilter:["class"]})},F=()=>{V({defaultCategory:"Alle"}),U()};F();document.addEventListener("astro:page-load",F);
