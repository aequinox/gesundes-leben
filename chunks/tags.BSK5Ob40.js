import{S as SITE}from"./_astro_content.C3X8YU77.js";import{s as slugify}from"./slugs.CO34ldaf.js";function filterPosts(t){const a=SITE.scheduledPostMargin;return t.filter((({data:t})=>{const{draft:e,pubDatetime:s}=t;if(!s)return!1;const r=new Date(s);return!isNaN(r.getTime())&&(!e&&r.getTime()<=Date.now()+a)}))}function extractUniqueTags(t){const a=t.filter((t=>!t.data.draft)),e=new Map;return a.flatMap((t=>t.data.tags??[])).forEach((t=>{const a=slugify(t);e.has(a)||e.set(a,t)})),Array.from(e.entries()).map((([t,a])=>({tag:t,tagName:a}))).sort(((t,a)=>t.tag.localeCompare(a.tag)))}function getTagCounts(t){const a=new Map;return filterPosts(t).forEach((t=>{t.data.tags?.forEach((t=>{const e=slugify(t),s=a.get(e)||0;a.set(e,s+1)}))})),a}export{extractUniqueTags as e,getTagCounts as g};